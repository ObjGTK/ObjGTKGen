#Executable
EXECUTABLE=HelloWorld

#Sources
SOURCES=HelloWorld.m ObjGTK/OGTK.m ObjGTK/OGTKObject.m ObjGTK/OGTKTypeWrapper.m ObjGTK/OGTKBaseBuilder.m ObjGTK/OGTKCallbackData.m ObjGTK/OGTKSignalConnector.m ObjGTK/OGTKSignalData.m ObjGTK/OGTKAboutDialog.m ObjGTK/OGTKAccelLabel.m ObjGTK/OGTKActionBar.m ObjGTK/OGTKAlignment.m ObjGTK/OGTKAppChooserButton.m ObjGTK/OGTKAppChooserDialog.m ObjGTK/OGTKAppChooserWidget.m ObjGTK/OGTKApplicationWindow.m ObjGTK/OGTKArrow.m ObjGTK/OGTKAspectFrame.m ObjGTK/OGTKAssistant.m ObjGTK/OGTKBin.m ObjGTK/OGTKBox.m ObjGTK/OGTKBuilder.m ObjGTK/OGTKButtonBox.m ObjGTK/OGTKButton.m ObjGTK/OGTKCalendar.m ObjGTK/OGTKCellView.m ObjGTK/OGTKCheckButton.m ObjGTK/OGTKCheckMenuItem.m ObjGTK/OGTKColorButton.m ObjGTK/OGTKColorChooserDialog.m ObjGTK/OGTKColorChooserWidget.m ObjGTK/OGTKColorSelectionDialog.m ObjGTK/OGTKColorSelection.m ObjGTK/OGTKComboBox.m ObjGTK/OGTKComboBoxText.m ObjGTK/OGTKContainer.m ObjGTK/OGTKDialog.m ObjGTK/OGTKDrawingArea.m ObjGTK/OGTKEntry.m ObjGTK/OGTKEventBox.m ObjGTK/OGTKExpander.m ObjGTK/OGTKFileChooserButton.m ObjGTK/OGTKFileChooserDialog.m ObjGTK/OGTKFileChooserWidget.m ObjGTK/OGTKFixed.m ObjGTK/OGTKFlowBox.m ObjGTK/OGTKFlowBoxChild.m ObjGTK/OGTKFontButton.m ObjGTK/OGTKFontChooserDialog.m ObjGTK/OGTKFontChooserWidget.m ObjGTK/OGTKFontSelectionDialog.m ObjGTK/OGTKFontSelection.m ObjGTK/OGTKFrame.m ObjGTK/OGTKGLArea.m ObjGTK/OGTKGrid.m ObjGTK/OGTKHandleBox.m ObjGTK/OGTKHBox.m ObjGTK/OGTKHButtonBox.m ObjGTK/OGTKHeaderBar.m ObjGTK/OGTKHPaned.m ObjGTK/OGTKHScale.m ObjGTK/OGTKHScrollbar.m ObjGTK/OGTKHSeparator.m ObjGTK/OGTKHSV.m ObjGTK/OGTKIconView.m ObjGTK/OGTKImage.m ObjGTK/OGTKImageMenuItem.m ObjGTK/OGTKInfoBar.m ObjGTK/OGTKInvisible.m ObjGTK/OGTKLabel.m ObjGTK/OGTKLayout.m ObjGTK/OGTKLevelBar.m ObjGTK/OGTKLinkButton.m ObjGTK/OGTKListBox.m ObjGTK/OGTKListBoxRow.m ObjGTK/OGTKLockButton.m ObjGTK/OGTKMenuBar.m ObjGTK/OGTKMenuButton.m ObjGTK/OGTKMenuItem.m ObjGTK/OGTKMenu.m ObjGTK/OGTKMenuShell.m ObjGTK/OGTKMenuToolButton.m ObjGTK/OGTKMessageDialog.m ObjGTK/OGTKMisc.m ObjGTK/OGTKModelButton.m ObjGTK/OGTKNativeDialog.m ObjGTK/OGTKNotebook.m ObjGTK/OGTKOffscreenWindow.m ObjGTK/OGTKOverlay.m ObjGTK/OGTKPaned.m ObjGTK/OGTKPlacesSidebar.m ObjGTK/OGTKPopover.m ObjGTK/OGTKPopoverMenu.m ObjGTK/OGTKProgressBar.m ObjGTK/OGTKRadioButton.m ObjGTK/OGTKRadioMenuItem.m ObjGTK/OGTKRadioToolButton.m ObjGTK/OGTKRange.m ObjGTK/OGTKRecentChooserDialog.m ObjGTK/OGTKRecentChooserMenu.m ObjGTK/OGTKRecentChooserWidget.m ObjGTK/OGTKRevealer.m ObjGTK/OGTKScaleButton.m ObjGTK/OGTKScale.m ObjGTK/OGTKScrollbar.m ObjGTK/OGTKScrolledWindow.m ObjGTK/OGTKSearchBar.m ObjGTK/OGTKSearchEntry.m ObjGTK/OGTKSeparator.m ObjGTK/OGTKSeparatorMenuItem.m ObjGTK/OGTKSeparatorToolItem.m ObjGTK/OGTKShortcutsShortcut.m ObjGTK/OGTKSpinButton.m ObjGTK/OGTKSpinner.m ObjGTK/OGTKStack.m ObjGTK/OGTKStackSidebar.m ObjGTK/OGTKStackSwitcher.m ObjGTK/OGTKStatusbar.m ObjGTK/OGTKSwitch.m ObjGTK/OGTKTable.m ObjGTK/OGTKTearoffMenuItem.m ObjGTK/OGTKTextView.m ObjGTK/OGTKToggleButton.m ObjGTK/OGTKToggleToolButton.m ObjGTK/OGTKToolbar.m ObjGTK/OGTKToolButton.m ObjGTK/OGTKToolItemGroup.m ObjGTK/OGTKToolItem.m ObjGTK/OGTKToolPalette.m ObjGTK/OGTKTreeView.m ObjGTK/OGTKVBox.m ObjGTK/OGTKVButtonBox.m ObjGTK/OGTKViewport.m ObjGTK/OGTKVolumeButton.m ObjGTK/OGTKVPaned.m ObjGTK/OGTKVScale.m ObjGTK/OGTKVScrollbar.m ObjGTK/OGTKVSeparator.m ObjGTK/OGTKWidget.m ObjGTK/OGTKWindow.m ObjGTK/OGTKContainer+OGTKAddWidget.m ObjGTK/OGTKDialog+OGTKAddButton.m ObjGTK/OGTKInfoBar+OGTKAddButtonTextResponseDictionary.m ObjGTK/OGTKFileChooserDialog+OGTKButtonTextResponseDictionary.m ObjGTK/OGTKMessageDialog+OGTKWithMarkup.m ObjGTK/OGTKRecentChooserDialog+OGTKButtonTextResponseDictionary.m ObjGTK/OGTKGObjectInitializationFailedException.m

#Objects
OBJECTS=$(SOURCES:.m=.o)

#compiler
CC=clang

#CFLAGS
CFLAGS=`objfw-config --cppflags` `pkg-config --cflags gtk+-3.0` -g -O0 -c -Wno-deprecated-declarations -Wno-deprecated

#Objective-c specific flags
OBJCFLAGS=`objfw-config --objcflags`

#Objective-c specific flags
MACOBJCFLAGS=$(OBJCFLAGS)

#GTK dependencies
GTKDEPS=`pkg-config --libs gtk+-3.0`

#Common flags
COMMONFLAGS=$(CFLAGS) $(OBJCFLAGS)

LIBS=`objfw-config --rpath --libs` $(GTKDEPS)

#Targets

#Linux Target
linux: all

#Mac Target
mac: COMMONFLAGS=$(MACOBJCFLAGS) $(GTKDEPS)
mac: all

#Windows Target
windows: all

#All Target
all: $(SOURCES) $(EXECUTABLE)

$(EXECUTABLE): $(OBJECTS)
	$(CC) $(OBJECTS) $(LIBS) -o $@

%.o: %.m
	$(CC) $(COMMONFLAGS) $< -o $@

clean: 
	rm -rf *.o *.d $(EXECUTABLE)
	rm -rf ObjGTK/*.o ObjGTK/*.d $(EXECUTABLE)
